package com.tygas.tianyu.tianyu.utils;

import android.content.Context;
import android.os.Environment;
import android.util.Log;

import java.io.File;
import java.io.IOException;
import java.util.EventListener;

/**
 * Created by SJTY_YX on 2016/1/25.
 * 操作录音文件的utils
 *
 */
public class RecordFile {

    private File rootFile;
    private File recordFile;//录音文件

    private Context context;
    private String fileName;

    private static final String root = "tianyurecord";
    private static final String LOG_TAG = "FileUtils";

    public RecordFile(Context context,String fileName) {
        this.context = context;
        this.fileName = fileName+".mp3";
        //context.getExternalCacheDir()

        rootFile = new File(context.getExternalCacheDir(),root);
        //rootFile = Environment.getExternalStorageDirectory();
        if(!rootFile.exists()){
            rootFile.mkdirs();
            Log.i(LOG_TAG,"创建目录");
        }
        Log.i(LOG_TAG,"[获取到根路径]"+rootFile.getAbsolutePath());
        recordFile = new File(rootFile,this.fileName);
        Log.i(LOG_TAG,"[创建新文件]"+recordFile.getAbsolutePath());
        /*if(!recordFile.exists()){
            try {
                recordFile.createNewFile();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }*/
    }

    public String getFilePath(){
        if(recordFile != null){
            return recordFile.getAbsolutePath();
        }
        return null;
    }

    public File getRecordFile(){
        return recordFile;
    }

}
